[
  [
    "linux-2.6.23.orig/drivers/i2c/algos/i2c-algo-bit.c", 
    "linux-2.6.23/drivers/i2c/algos/i2c-algo-bit.c", 
    [
      "Index: linux-2.6.23/drivers/i2c/algos/i2c-algo-bit.c", 
      "===================================================================", 
      "--- linux-2.6.23.orig/drivers/i2c/algos/i2c-algo-bit.c", 
      "+++ linux-2.6.23/drivers/i2c/algos/i2c-algo-bit.c", 
      "@@ -18,7 +18,7 @@", 
      "Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.\t\t     */", 
      "/* ------------------------------------------------------------------------- */", 
      "", 
      "-/* With some changes from Frodo Looijaard <frodol@dds.nl>, Ky\u00f6sti M\u00e4lkki", 
      "+/* With some changes from Frodo Looijaard <frodol@dds.nl>, Ky\ufffdsti M\ufffdlkki", 
      "<kmalkki@cc.hut.fi> and Jean Delvare <khali@linux-fr.org> */", 
      "", 
      "#include <linux/kernel.h>", 
      "@@ -33,12 +33,11 @@", 
      "", 
      "", 
      "/* ----- global defines ----------------------------------------------- */", 
      "-", 
      "#ifdef DEBUG", 
      "#define bit_dbg(level, dev, format, args...) \\", 
      "do { \\", 
      "if (i2c_debug >= level) \\", 
      "-\t\t\tdev_dbg(dev, format, ##args); \\", 
      "+\t\tdev_dbg(dev, format, ##args); \\", 
      "} while (0)", 
      "#else", 
      "#define bit_dbg(level, dev, format, args...) \\", 
      "@@ -568,6 +567,9 @@ bailout:", 
      "bit_dbg(3, &i2c_adap->dev, \"emitting stop condition\\n\");", 
      "i2c_stop(adap);", 
      "}", 
      "+\tif (pmsg->flags & I2C_M_NOSTOP) {", 
      "+\t\tset_lasti2cwas_nostop(adap);", 
      "+\t}", 
      "return ret;", 
      "}", 
      ""
    ]
  ]
]