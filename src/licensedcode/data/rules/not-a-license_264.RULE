instantiated by configure, for internal use only